<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Demo</title>
  <base href="/apps/demo/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="gwt:property" content="cap_mode=app,cap_wc=form"/>

  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <!--<script type="text/javascript" src="/apps/app-cdn/tibco/elements/elements.js"></script>
  <link href="/apps/app-cdn/tibco/elements/styles.css" rel="stylesheet">-->

  <script src="/apps/app-cdn/tibco/elements/elements-es5.js" nomodule defer></script>
  <script src="/apps/app-cdn/tibco/elements/elements-es2015.js" type="module"></script>
  <link href="/apps/app-cdn/tibco/elements/elements.css" rel="stylesheet">

  <script src="/apps/app-cdn/tibco/framework_ext/1.0.0/framework_ext.nocache.js"></script>


  <!--To match styles and fonts from LiveApps include following into the application:-->
<link href="/apps/app-cdn/tibco/fonts/Source_Sans_Pro/font.css" rel="stylesheet">
<link href="/apps/app-cdn/tibco/framework_ext/1.0.0/TfMaterial.min.css" rel="stylesheet">

  <!--<script src="/apps/app-cdn/tibco/framework_ext/1.0.0/framework_ext.nocache.js"></script>-->


</head>
<body>

<div id="formDiv"></div>

   <!--<tib-la-openworkitem-form id="43" sandbox="43" form-div-id="formDiv"></tib-la-openworkitem-form>-->

<!--tib-la-casecreator-form
  sandbox="31"
  form-div-id="formDiv"
  id="7915"
  name="CreateInformationRequest"
  label="Create Information Request"
  version="2"
  application-id="1742"
  application-name="PartnerRequest"
  activity-id="ZWjJOg9K1Eeiq0vt2duqkbg"
  activity-name="Task"
>
</tib-la-casecreator-form-->
	<tib-la-caseaction-form
 sandbox="31"
 form-div-id="formDiv"
 case-ref="210881"
 chat-bot-enabled="false"
 id="7919"
 name="SubmitRequestforReview"
 label="Submit Request for Review"
 version="2"
 application-id="1742"
 application-name="PartnerRequest"
      activity-name="Task"
 no-data="false"
 >

  </tib-la-caseaction-form>

 <!--<tib-la-caseaction-form
 sandbox="9"
 form-div-id="formDiv"
 case-ref="5231"
 chat-bot-enabled="false"
 id="158"
 name="UpdateInsuranceClaim"
 label="Update Insurance Claim"
 version="1"
 application-id="30"
 application-name="InsuranceClaim"
      activity-name="Task1"
 no-data="false"
 >
    </tib-la-caseaction-form>-->


<script type="text/javascript">

/*events for open work-item*/

/*
const owe = document.querySelector('tib-la-openworkitem-form');

owe.addEventListener('events', (event) => {
/*alert(event.detail.eventName);
console.log(event);
});


const cc = document.querySelector('tib-la-openworkitem-form');
cc.addEventListener('formLoad', (event) => {
  alert(event.detail.eventName);
  console.log(event);

});

cc.addEventListener('formSubmit', (event) => {
  alert(event.detail.eventName);
  console.log(event);

});

cc.addEventListener('formClose', (event) => {
  alert(event.detail.eventName);
  console.log(event);

});

cc.addEventListener('formCancel', (event) => {
  alert(event.detail.eventName);
  console.log(event);

});

cc.addEventListener('error', (err) => {
  alert(err.detail.error.errorMsg);
  console.log(err);

});


*/

/*
const cc = document.querySelector('tib-la-casecreator-form');

cc.addEventListener('events', (event) => {
/*alert(event.detail);
console.log(event);

});
*/

//newly added events for case creator
/*
const cc = document.querySelector('tib-la-casecreator-form');
cc.addEventListener('formLoad', (event) => {
  alert(event.detail.eventName);
  console.log(event);

});

cc.addEventListener('formSubmit', (event) => {
  event.detail.form.destroy()
  alert(event.detail.eventName);
  console.log(event);

});


cc.addEventListener('formCancel', (event) => {
  event.detail.form.destroy()
  // alert(event.detail.eventName);
  console.log(event);

});

cc.addEventListener('error', (err) => {
  // alert(err.detail.error.errorMsg);
  console.log(err);

});
*/

let formRef = undefined;
function cancel() {
  // formRef.detail.form.destroy();
  formRef.detail.form.invokeAction('cancel');
}

const ca = document.querySelector('tib-la-caseaction-form');

/*
ca.addEventListener('events', (event) => {
  alert(event.detail);
  console.log(event);
});
*/


//newly created events for case action


const cc = document.querySelector('tib-la-caseaction-form');
cc.addEventListener('formLoad', (event) => {
  formRef = event;
  alert(event.detail.eventName);
  console.log(event);

});

cc.addEventListener('formSubmit', (event) => {
  alert(event.detail.eventName);
  console.log(event);

});


cc.addEventListener('formCancel', (event) => {
  alert(event.detail.eventName);
  console.log(event);

});

cc.addEventListener('error', (err) => {
  alert(err.detail.error.contextAttributes[0].value);
  console.log(err);

});


</script>

<button onclick=cancel()>Cancel</button>

</body>
</html>
