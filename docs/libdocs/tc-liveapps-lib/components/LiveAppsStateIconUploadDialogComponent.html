<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>TIBCO Cloud Starters Toolkit - Live Apps Library</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/material.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">TIBCO Cloud Starters Toolkit - Live Apps Library</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>LiveAppsStateIconUploadDialogComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>C:/GoDev/src/TCST-Angular/projects/tibco-tcstk/tc-liveapps-lib/src/lib/components/live-apps-application-configuration/live-apps-application-configuration.component.ts</code>
</p>





<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>tcla-live-apps-state-icon-upload-dialog</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>upload-file-dialog/app-live-apps-state-icon-upload-dialog.css</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>upload-file-dialog/app-live-apps-state-icon-upload-dialog.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#data">data</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#description">description</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#dialogRef">dialogRef</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#fileText">fileText</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#fileToUpload">fileToUpload</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#uploadFile">uploadFile</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#attachFile">attachFile</a>
                            </li>
                            <li>
                                <a href="#onNoClick">onNoClick</a>
                            </li>
                            <li>
                                <a href="#setFileDescription">setFileDescription</a>
                            </li>
                        </ul>
                    </td>
                </tr>


                <tr>
                    <td class="col-md-4">
                        <h6><b>Outputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#fileevent">fileevent</a>
                            </li>
                        </ul>
                    </td>
                </tr>



        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(dialogRef: <a href="../components/LiveAppsStateIconUploadDialogComponent.html">MatDialogRef<LiveAppsStateIconUploadDialogComponent></a>, data: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="316" class="link-to-prism">C:/GoDev/src/TCST-Angular/projects/tibco-tcstk/tc-liveapps-lib/src/lib/components/live-apps-application-configuration/live-apps-application-configuration.component.ts:316</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>dialogRef</td>
                                                  
                                                        <td>
                                                                        <code><a href="../components/LiveAppsStateIconUploadDialogComponent.html" target="_self" >MatDialogRef&lt;LiveAppsStateIconUploadDialogComponent&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>data</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>


    <section>
    <h3 id="outputs">Outputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="fileevent"></a>
                        <b>fileevent</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://angular.io/api/core/EventEmitter" target="_blank" >EventEmitter</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="313" class="link-to-prism">C:/GoDev/src/TCST-Angular/projects/tibco-tcstk/tc-liveapps-lib/src/lib/components/live-apps-application-configuration/live-apps-application-configuration.component.ts:313</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>


    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="attachFile"></a>
                    <span class="name">
                        <b>
                            attachFile
                        </b>
                        <a href="#attachFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>attachFile(files: FileList)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="332"
                            class="link-to-prism">C:/GoDev/src/TCST-Angular/projects/tibco-tcstk/tc-liveapps-lib/src/lib/components/live-apps-application-configuration/live-apps-application-configuration.component.ts:332</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>files</td>
                                    <td>
                                            <code>FileList</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onNoClick"></a>
                    <span class="name">
                        <b>
                            onNoClick
                        </b>
                        <a href="#onNoClick"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onNoClick()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="339"
                            class="link-to-prism">C:/GoDev/src/TCST-Angular/projects/tibco-tcstk/tc-liveapps-lib/src/lib/components/live-apps-application-configuration/live-apps-application-configuration.component.ts:339</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setFileDescription"></a>
                    <span class="name">
                        <b>
                            setFileDescription
                        </b>
                        <a href="#setFileDescription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setFileDescription(description: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="328"
                            class="link-to-prism">C:/GoDev/src/TCST-Angular/projects/tibco-tcstk/tc-liveapps-lib/src/lib/components/live-apps-application-configuration/live-apps-application-configuration.component.ts:328</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>description</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="data"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            data</b>
                            <a href="#data"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @Inject(MAT_DIALOG_DATA)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="319" class="link-to-prism">C:/GoDev/src/TCST-Angular/projects/tibco-tcstk/tc-liveapps-lib/src/lib/components/live-apps-application-configuration/live-apps-application-configuration.component.ts:319</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="description"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            description</b>
                            <a href="#description"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>undefined</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="315" class="link-to-prism">C:/GoDev/src/TCST-Angular/projects/tibco-tcstk/tc-liveapps-lib/src/lib/components/live-apps-application-configuration/live-apps-application-configuration.component.ts:315</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="dialogRef"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            dialogRef</b>
                            <a href="#dialogRef"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../components/LiveAppsStateIconUploadDialogComponent.html" target="_self" >MatDialogRef&lt;LiveAppsStateIconUploadDialogComponent&gt;</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="319" class="link-to-prism">C:/GoDev/src/TCST-Angular/projects/tibco-tcstk/tc-liveapps-lib/src/lib/components/live-apps-application-configuration/live-apps-application-configuration.component.ts:319</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="fileText"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            fileText</b>
                            <a href="#fileText"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="316" class="link-to-prism">C:/GoDev/src/TCST-Angular/projects/tibco-tcstk/tc-liveapps-lib/src/lib/components/live-apps-application-configuration/live-apps-application-configuration.component.ts:316</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="fileToUpload"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            fileToUpload</b>
                            <a href="#fileToUpload"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>File</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>undefined</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="314" class="link-to-prism">C:/GoDev/src/TCST-Angular/projects/tibco-tcstk/tc-liveapps-lib/src/lib/components/live-apps-application-configuration/live-apps-application-configuration.component.ts:314</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="uploadFile"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            uploadFile</b>
                            <a href="#uploadFile"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="321" class="link-to-prism">C:/GoDev/src/TCST-Angular/projects/tibco-tcstk/tc-liveapps-lib/src/lib/components/live-apps-application-configuration/live-apps-application-configuration.component.ts:321</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  Component,
  EventEmitter,
  Inject,
  Input,
  OnChanges,
  OnDestroy,
  OnInit,
  Output,
  QueryList, SimpleChanges,
  ViewChild,
  ViewChildren
} from &#x27;@angular/core&#x27;;
import {Observable, of, Subject} from &#x27;rxjs&#x27;;
import {LiveAppsService} from &#x27;../../services/live-apps.service&#x27;;
import {CardConfig, CaseTypeState, IconMap} from &#x27;../../models/liveappsdata&#x27;;
import {map, take, takeUntil} from &#x27;rxjs/operators&#x27;;
import {HttpClient, HttpHeaders} from &#x27;@angular/common/http&#x27;;
import {DomSanitizer, SafeHtml} from &#x27;@angular/platform-browser&#x27;;
import {LiveAppsCaseDataComponent} from &#x27;../live-apps-case-data/live-apps-case-data.component&#x27;;
import {LiveAppsStateIconComponent} from &#x27;../live-apps-state-icon/live-apps-state-icon.component&#x27;;
import {LiveAppsCaseSummaryComponent} from &#x27;../live-apps-case-summary/live-apps-case-summary.component&#x27;;
import {MAT_DIALOG_DATA, MatDialog, MatDialogRef} from &#x27;@angular/material&#x27;;
import {LiveAppsDocumentUploadDialogComponent} from &#x27;../live-apps-documents/live-apps-documents.component&#x27;;
import { Location } from &#x27;@angular/common&#x27;;
import {LiveAppsComponent} from &#x27;../live-apps-component/live-apps-component.component&#x27;;
import {CaseCardConfig} from &#x27;../../models/tc-case-card-config&#x27;;
import {DEFAULT_COLORS, DEFAULT_STATE_COLOR, DEFAULT_TYPE_COLOR, TcCaseCardConfigService} from &#x27;../../services/tc-case-card-config.service&#x27;;
import {TcDocumentService} from &#x27;../../services/tc-document.service&#x27;;



/**
 * Manages summary card configuration
 *
 *@example &lt;tcla-live-apps-application-configuration&gt;&lt;/tcla-live-apps-application-configuration&gt;
 */

@Component({
  selector: &#x27;tcla-live-apps-application-configuration&#x27;,
  templateUrl: &#x27;./live-apps-application-configuration.component.html&#x27;,
  styleUrls: [&#x27;./live-apps-application-configuration.component.css&#x27;]
})
export class LiveAppsApplicationConfigurationComponent extends LiveAppsComponent implements OnChanges {
  // The ViewChild declarations give access to components marked on the template so that I can call public functions like refresh
  @ViewChildren(&#x27;iconcomp&#x27;) stateIconComponents: QueryList&lt;LiveAppsStateIconComponent&gt;;
  @ViewChildren(LiveAppsCaseSummaryComponent) caseSummaryComponent: QueryList&lt;LiveAppsCaseSummaryComponent&gt;;

  /**
   * The LA Application Id
   */
  @Input() appId: string;

  /**
   * The label shown above the case type in the configuration widget
   */
  @Input() appTypeLabel: string;

  /**
   * sandboxId - this comes from claims resolver
   */
  @Input() sandboxId: number;

  /**
   * The Application ID of the UI (should ideally be unique as it is shared state key)
   */
  @Input() uiAppId: string;

  /**
   * The organisation folder to store/retrieve documents
   */
  @Input() folderId: string;

  /**
   * ~event configChanged : Configuration values changed
   * ~payload CaseCardConfig : CaseCardConfig object when configuration is changed (so called can do a save with data)
   */
  @Output() configChanged: EventEmitter&lt;CaseCardConfig&gt; &#x3D; new EventEmitter&lt;CaseCardConfig&gt;();

  public errorMessage: string;
  public caseCardConfig: CaseCardConfig;
  public selectedStateConfig: IconMap;
  public selectedCaseTypeConfig: IconMap;
  public caseTypeIcon: string;
  public caseTypeColor: string;

  // prepareExternalUrl will add the base href
  public DEFAULT_CASE_TYPE_ICON &#x3D; &#x27;assets/icons/ic-generic-casetype.svg&#x27;;
  public DEFAULT_CASE_TYPE_COLOR &#x3D; DEFAULT_TYPE_COLOR;
  public DEFAULT_CASE_STATE_ICON &#x3D; &#x27;assets/icons/ic-generic-state.svg&#x27;;
  public DEFAULT_CASE_STATE_COLOR &#x3D; DEFAULT_STATE_COLOR;
  public DEFAULT_COLOR_PALETTE &#x3D; DEFAULT_COLORS;

  public getConfigForState &#x3D; (state: CaseTypeState): IconMap &#x3D;&gt; {
    let reqIconMap: IconMap;
    if (this.caseCardConfig.cardConfig &amp;&amp; this.caseCardConfig.cardConfig.stateMap) {
      this.caseCardConfig.cardConfig.stateMap.forEach((stateMap) &#x3D;&gt; {
        if (stateMap.state &#x3D;&#x3D;&#x3D; state.value) {
          reqIconMap &#x3D; stateMap;
        }
      });
    }
    return reqIconMap ? reqIconMap : new IconMap(false, state.value, this.DEFAULT_CASE_STATE_COLOR, this.DEFAULT_CASE_STATE_ICON);
  }

  public getConfigForCaseType &#x3D; (caseTypeId: string): IconMap &#x3D;&gt; {
    let reqIconMap: IconMap;
    if (this.caseCardConfig.cardConfig &amp;&amp; this.caseCardConfig.cardConfig.stateMap) {
      this.caseCardConfig.cardConfig.stateMap.forEach((stateMap) &#x3D;&gt; {
        if (stateMap.isCaseType) {
          reqIconMap &#x3D; stateMap;
        }
      });
    }
    return reqIconMap ? reqIconMap : new IconMap(true, caseTypeId, this.DEFAULT_CASE_TYPE_COLOR, this.DEFAULT_CASE_TYPE_ICON);
  }

  public updateIconMap &#x3D; (stateConfig: IconMap) &#x3D;&gt; {
    let foundMap: IconMap;
    let updatedMap: IconMap;
    if (this.caseCardConfig.cardConfig &amp;&amp; this.caseCardConfig.cardConfig.stateMap) {
      this.caseCardConfig.cardConfig.stateMap.forEach(function(stateMap) {
        if (stateMap.state &#x3D;&#x3D;&#x3D; stateConfig.state) {
          foundMap &#x3D; stateConfig;
          stateMap.state &#x3D; stateConfig.state;
          stateMap.icon &#x3D; stateConfig.icon;
          stateMap.fill &#x3D; stateConfig.fill;
        }
      });
      if (foundMap) {
        foundMap &#x3D; stateConfig;
      } else {
        this.caseCardConfig.cardConfig.stateMap.push(stateConfig);
      }
    } else {
      this.caseCardConfig.cardConfig.stateMap &#x3D; [];
      this.caseCardConfig.cardConfig.stateMap.push(stateConfig);
    }
    this.configChanged.emit(this.caseCardConfig);
  }

  public handleCaseTypeColorToggleChange &#x3D; (changes) &#x3D;&gt; {
    this.caseCardConfig.cardConfig.useCaseTypeColor &#x3D; changes.checked ? changes.checked : false;
    if (changes.checked) {
      this.caseSummaryComponent.forEach((comp: LiveAppsCaseSummaryComponent) &#x3D;&gt; {
        comp.restylePreview(this.selectedStateConfig.icon, this.caseTypeColor);
      });
    }
    this.configChanged.emit(this.caseCardConfig);
  }

  public setFill &#x3D; (fill, stateConfig: IconMap) &#x3D;&gt; {
    this.caseSummaryComponent.forEach((comp: LiveAppsCaseSummaryComponent) &#x3D;&gt; {
      comp.restylePreview(stateConfig.icon, fill);
    });
    this.stateIconComponents.find(function(comp) {
      return comp.id &#x3D;&#x3D;&#x3D; stateConfig.state;
    }).refillSVG(fill);
    this.configChanged.emit(this.caseCardConfig);
  }

  public setCaseTypeFill &#x3D; (fill, stateConfig: IconMap) &#x3D;&gt; {
    this.caseSummaryComponent.forEach((comp: LiveAppsCaseSummaryComponent) &#x3D;&gt; {
      comp.restylePreviewCaseType(stateConfig.icon, fill);
    });
    this.stateIconComponents.find(function(comp) {
      return (comp.id &#x3D;&#x3D;&#x3D; stateConfig.state &amp;&amp; stateConfig.isCaseType);
    }).refillSVG(fill);
    this.configChanged.emit(this.caseCardConfig);
  }

  public selectState &#x3D; (state: CaseTypeState) &#x3D;&gt; {
    this.selectedStateConfig &#x3D; this.getConfigForState(state);
    if (!this.caseCardConfig.cardConfig.useCaseTypeColor) {
      this.caseSummaryComponent.forEach((comp: LiveAppsCaseSummaryComponent) &#x3D;&gt; {
        comp.restylePreview(this.selectedStateConfig.icon, this.selectedStateConfig.fill);
      });
    }
  }

  /*public saveConfig &#x3D; () &#x3D;&gt; {
    this.caseCardConfigService.updateCaseCardConfig(this.sandboxId, this.appId, this.uiAppId, this.caseCardConfig)
      .pipe(
        take(1),
        takeUntil(this._destroyed$),
        map(caseCardConfig &#x3D;&gt; {
          this.caseCardConfig &#x3D; caseCardConfig;
        })
      ).subscribe(null, error &#x3D;&gt; { console.log(&#x27;Unable to update case card config: &#x27; + error.errorMsg); }
    );
  }*/

  public openDialog(state: CaseTypeState, isCaseType: boolean): void {

    if (!isCaseType) {
      this.selectState(state);
    } else {
      state &#x3D; new CaseTypeState().deserialize({ value: this.appTypeLabel });
    }
    const dialogRef &#x3D; this.dialog.open(LiveAppsStateIconUploadDialogComponent, {
      width: &#x27;500px&#x27;,
      data: { state: state, isCaseType: isCaseType }
    });

    dialogRef.componentInstance.fileevent.subscribe(($e) &#x3D;&gt; {
      this.uploadFile($e.file, $e.state, $e.isCaseType);
    })

    dialogRef.afterClosed().subscribe(result &#x3D;&gt; {
    });
  }

  public setNewStateIcon &#x3D; (url) &#x3D;&gt; {
    this.selectedStateConfig.icon &#x3D; url;
    this.stateIconComponents.find((comp: LiveAppsStateIconComponent) &#x3D;&gt; {
      return (comp.id &#x3D;&#x3D;&#x3D; this.selectedStateConfig.state);
    }).refresh(this.selectedStateConfig.icon, this.selectedStateConfig.fill);
    this.caseSummaryComponent.forEach((comp: LiveAppsCaseSummaryComponent) &#x3D;&gt; {
      comp.restylePreview(this.selectedStateConfig.icon, this.selectedStateConfig.fill);
    });
    this.updateIconMap(this.selectedStateConfig);
  }

  public setNewCaseTypeIcon &#x3D; (url) &#x3D;&gt; {
    this.caseTypeIcon &#x3D; url;
    this.stateIconComponents.find((comp: LiveAppsStateIconComponent) &#x3D;&gt; {
      return (comp.id &#x3D;&#x3D;&#x3D; this.appTypeLabel);
    }).refresh(this.caseTypeIcon, this.caseTypeColor);
    this.caseSummaryComponent.forEach((comp: LiveAppsCaseSummaryComponent) &#x3D;&gt; {
      comp.restylePreviewCaseType(this.caseTypeIcon, this.caseTypeColor);
    });
    this.updateIconMap(new IconMap(true, this.appTypeLabel, this.caseTypeColor, this.caseTypeIcon));
  }

  public uploadFile(file: File, state: CaseTypeState, isStateIcon: boolean) {
    if (file) {
      const url &#x3D; &#x27;webresource/v1/orgFolders/&#x27; + this.folderId + &#x27;/&#x27; + this.appId + &#x27;.&#x27; + file.name;
      const dlUrl &#x3D; &#x27;webresource/orgFolders/&#x27; + this.folderId + &#x27;/&#x27; + this.appId + &#x27;.&#x27; + file.name;
      this.liveapps.clearFromIconSVGTextCache(url);
      this.documentsService.uploadDocument(&#x27;orgFolders&#x27;, this.folderId, this.sandboxId,
        file, (this.appId + &#x27;.&#x27; + file.name), &#x27;&#x27;)
        .pipe(
          map(val &#x3D;&gt; {
            if (!isStateIcon) {
              this.setNewStateIcon(dlUrl);
            } else {
              this.setNewCaseTypeIcon(dlUrl);
            }
          })
        )
        .subscribe(
          result &#x3D;&gt; null,
          error &#x3D;&gt; { console.log(&#x27;error&#x27;); this.errorMessage &#x3D; &#x27;Error uploading state icon: &#x27; + error.errorMsg; });
    }
  }

  public refresh &#x3D; () &#x3D;&gt; {
    // need states &amp; cardConfig
    this.selectedCaseTypeConfig &#x3D; null;
    this.caseCardConfigService.getCaseCardConfig(this.sandboxId, this.appId, this.uiAppId, this.appTypeLabel, this.DEFAULT_CASE_TYPE_COLOR, this.DEFAULT_CASE_TYPE_ICON, this.DEFAULT_CASE_STATE_COLOR, this.DEFAULT_CASE_STATE_ICON).pipe(
      take(1),
      takeUntil(this._destroyed$),
      map(caseCardConfig &#x3D;&gt; {
        this.caseCardConfig &#x3D; caseCardConfig;
        // set default selected to first state for this case type (0 is case type)
        this.selectedStateConfig &#x3D; this.caseCardConfig.cardConfig.stateMap[1];
        const caseTypeRec &#x3D; this.caseCardConfig.cardConfig.stateMap.find(function(stateMap) {
          return stateMap.isCaseType;
        });

        this.caseTypeIcon &#x3D; caseTypeRec.icon;
        this.caseTypeColor &#x3D; caseTypeRec.fill;
        this.selectedCaseTypeConfig &#x3D; this.getConfigForCaseType(this.appTypeLabel);
      })
    ).subscribe(
      null, error &#x3D;&gt; { this.errorMessage &#x3D; &#x27;Error retrieving case card config: &#x27; + error.error.errorMsg; });
  }

  constructor(private http: HttpClient, private sanitizer: DomSanitizer,
              private liveapps: LiveAppsService, public caseCardConfigService: TcCaseCardConfigService, private documentsService: TcDocumentService, public dialog: MatDialog, private location: Location) {
    super();
  }

  ngOnChanges(changes: SimpleChanges) {
    if (changes.appId &amp;&amp; (changes.appId.currentValue !&#x3D;&#x3D; changes.appId.previousValue)) {
      this.refresh();
    }
  }


}

@Component({
  selector: &#x27;tcla-live-apps-state-icon-upload-dialog&#x27;,
  templateUrl: &#x27;upload-file-dialog/app-live-apps-state-icon-upload-dialog.html&#x27;,
  styleUrls: [ &#x27;upload-file-dialog/app-live-apps-state-icon-upload-dialog.css&#x27;]
})
export class LiveAppsStateIconUploadDialogComponent {
  @Output() fileevent &#x3D; new EventEmitter&lt;any&gt;();
  public fileToUpload: File &#x3D; undefined;
  public description: string &#x3D; undefined;
  public fileText: string;

  constructor(
    public dialogRef: MatDialogRef&lt;LiveAppsStateIconUploadDialogComponent&gt;, @Inject(MAT_DIALOG_DATA) public data: any) {}

  public uploadFile &#x3D; () &#x3D;&gt; {
    if (this.fileToUpload) {
      this.fileevent.emit({ file: this.fileToUpload, state: this.data.state, isCaseType: this.data.isCaseType } );
      this.dialogRef.close();
    }
  }

  setFileDescription(description: string) {
    this.description &#x3D; description;
  }

  attachFile(files: FileList) {
    this.fileToUpload &#x3D; files.item(0);
    /*const myReader: FileReader &#x3D; new FileReader();
    myReader.readAsText(this.fileToUpload);
    this.fileText &#x3D; myReader.result.toString();*/
  }

  onNoClick(): void {
    this.dialogRef.close();
  }

}

</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">  &lt;h1 mat-dialog-title&gt;Upload New Icon (svg) for &#x27;{{data.state.value}}&#x27;&lt;/h1&gt;
  &lt;div mat-dialog-content class&#x3D;&quot;tcs-state-icon-upload-dialog&quot;&gt;
    &lt;form #fileUploadForm&#x3D;&quot;ngForm&quot; fxFlex fxLayout&#x3D;&quot;column&quot;&gt;
      &lt;div fxLayout&#x3D;&quot;row&quot; fxLayoutAlign&#x3D;&quot;start space-between&quot;&gt;
        &lt;button type&#x3D;&quot;button&quot; mat-raised-button (click)&#x3D;&quot;fileInput.click()&quot;&gt;Choose File To Upload&lt;/button&gt;
        &lt;div *ngIf&#x3D;&quot;fileToUpload&quot;&gt;{{fileToUpload.name}}&lt;/div&gt;
        &lt;!-- below input is hidden and enabled by above button --&gt;
        &lt;input class&#x3D;&quot;tcs-hidden-input&quot; (change)&#x3D;&quot;attachFile($event.target.files)&quot; accept&#x3D;&quot;image/svg+xml&quot; #fileInput type&#x3D;&quot;file&quot; id&#x3D;&quot;file&quot;&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  &lt;/div&gt;
  &lt;div mat-dialog-actions&gt;
    &lt;button mat-button (click)&#x3D;&quot;uploadFile()&quot; type&#x3D;&quot;submit&quot; [disabled]&#x3D;&quot;!fileToUpload&quot;&gt;Upload&lt;/button&gt;
    &lt;button mat-button (click)&#x3D;&quot;onNoClick()&quot;&gt;Cancel&lt;/button&gt;
  &lt;/div&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>upload-file-dialog/app-live-apps-state-icon-upload-dialog.css</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">.tcs-hidden-input {
  display: none;
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div>  <h1 mat-dialog-title>Upload New Icon (svg) for \'{{data.state.value}}\'</h1>  <div mat-dialog-content class="tcs-state-icon-upload-dialog">    <form #fileUploadForm="ngForm" fxFlex fxLayout="column">      <div fxLayout="row" fxLayoutAlign="start space-between">        <button type="button" mat-raised-button (click)="fileInput.click()">Choose File To Upload</button>        <div *ngIf="fileToUpload">{{fileToUpload.name}}</div>        <!-- below input is hidden and enabled by above button -->        <input class="tcs-hidden-input" (change)="attachFile($event.target.files)" accept="image/svg+xml" #fileInput type="file" id="file">      </div>    </form>  </div>  <div mat-dialog-actions>    <button mat-button (click)="uploadFile()" type="submit" [disabled]="!fileToUpload">Upload</button>    <button mat-button (click)="onNoClick()">Cancel</button>  </div></div>'
    var COMPONENTS = [{'name': 'LiveAppsActionsComponent', 'selector': 'tcla-live-apps-actions'},{'name': 'LiveAppsActiveCasesForTypeReportComponent', 'selector': 'tcla-live-apps-active-cases-for-type-report'},{'name': 'LiveAppsActiveCasesReportComponent', 'selector': 'tcla-live-apps-active-cases-report'},{'name': 'LiveAppsActiveCasesWidgetComponent', 'selector': 'tcla-live-apps-active-cases-widget'},{'name': 'LiveAppsAppConfigurationWidgetComponent', 'selector': 'tcla-live-apps-app-configuration-widget'},{'name': 'LiveAppsApplicationConfigurationComponent', 'selector': 'tcla-live-apps-application-configuration'},{'name': 'LiveAppsApplicationCreateButtonComponent', 'selector': 'tcla-live-apps-application-create-button'},{'name': 'LiveAppsApplicationListComponent', 'selector': 'tcla-live-apps-application-list'},{'name': 'LiveAppsApplicationsComponent', 'selector': 'tcla-live-apps-applications'},{'name': 'LiveAppsCaseActionComponent', 'selector': 'tcla-live-apps-case-action'},{'name': 'LiveAppsCaseActionsComponent', 'selector': 'tcla-live-apps-case-actions'},{'name': 'LiveAppsCaseActionsListComponent', 'selector': 'tcla-live-apps-case-actions-list'},{'name': 'LiveAppsCaseAuditComponent', 'selector': 'tcla-live-apps-case-audit'},{'name': 'LiveAppsCaseCockpitComponent', 'selector': 'tcla-live-apps-case-cockpit'},{'name': 'LiveAppsCaseCreatorComponent', 'selector': 'tcla-live-apps-case-creator'},{'name': 'LiveAppsCaseCreatorsComponent', 'selector': 'tcla-live-apps-case-creators'},{'name': 'LiveAppsCaseCreatorWidgetComponent', 'selector': 'tcla-live-apps-case-creator-widget'},{'name': 'LiveAppsCaseDataComponent', 'selector': 'tcla-live-apps-case-data'},{'name': 'LiveAppsCaseDataDisplayComponent', 'selector': 'tcla-live-apps-case-data-display'},{'name': 'LiveAppsCaseListComponent', 'selector': 'tcla-live-apps-case-list'},{'name': 'LiveAppsCaseSearchComponent', 'selector': 'tcla-live-apps-case-search'},{'name': 'LiveAppsCaseStateAuditComponent', 'selector': 'tcla-live-apps-case-state-audit'},{'name': 'LiveAppsCaseStatesComponent', 'selector': 'tcla-live-apps-case-states'},{'name': 'LiveAppsCaseSummaryComponent', 'selector': 'tcla-live-apps-case-summary'},{'name': 'LiveAppsComponent', 'selector': 'tcla-live-apps-component'},{'name': 'LiveAppsCreatorDialogComponent', 'selector': 'tcla-live-apps-creator-dialog'},{'name': 'LiveAppsCreatorsComponent', 'selector': 'tcla-live-apps-creators'},{'name': 'LiveAppsCreatorSelectorComponent', 'selector': 'tcla-live-apps-creator-selector'},{'name': 'LiveAppsDocumentsComponent', 'selector': 'tcla-live-apps-documents'},{'name': 'LiveAppsDocumentUploadDialogComponent', 'selector': 'tcla-live-apps-document-upload-dialog'},{'name': 'LiveAppsDocumentViewerComponent', 'selector': 'tcla-live-apps-document-viewer'},{'name': 'LiveAppsDocumentViewerDialogComponent', 'selector': 'tcla-live-apps-document-viewer-dialog'},{'name': 'LiveAppsFavoriteCasesComponent', 'selector': 'tcla-live-apps-favorite-cases'},{'name': 'LiveAppsHomeCockpitComponent', 'selector': 'tcla-live-apps-home-cockpit'},{'name': 'LiveAppsLandingPageComponent', 'selector': 'tcla-live-apps-landing-page'},{'name': 'LiveAppsLoginComponent', 'selector': 'tcla-live-apps-login'},{'name': 'LiveAppsMilestoneComponent', 'selector': 'tcla-live-apps-milestone'},{'name': 'LiveAppsNotesComponent', 'selector': 'tcla-live-apps-notes'},{'name': 'LiveAppsNotesEditorComponent', 'selector': 'tcla-live-apps-notes-editor'},{'name': 'LiveAppsRecentCasesComponent', 'selector': 'tcla-live-apps-recent-cases'},{'name': 'LiveAppsRoleSwitcherComponent', 'selector': 'tcla-live-apps-role-switcher'},{'name': 'LiveAppsSearchWidgetComponent', 'selector': 'tcla-live-apps-search-widget'},{'name': 'LiveAppsSettingsComponent', 'selector': 'tcla-live-apps-settings'},{'name': 'LiveAppsSettingsRecentCasesComponent', 'selector': 'tcla-live-apps-settings-recent-cases'},{'name': 'LiveAppsSettingsRolesComponent', 'selector': 'tcla-live-apps-settings-roles'},{'name': 'LiveAppsSettingsSummaryCardsComponent', 'selector': 'tcla-live-apps-settings-summary-cards'},{'name': 'LiveAppsStateIconComponent', 'selector': 'tcla-live-apps-state-icon'},{'name': 'LiveAppsStateIconUploadDialogComponent', 'selector': 'tcla-live-apps-state-icon-upload-dialog'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'LiveAppsStateIconUploadDialogComponent'};
</script>
<script src="../js/tree.js"></script>














                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'LiveAppsStateIconUploadDialogComponent.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
