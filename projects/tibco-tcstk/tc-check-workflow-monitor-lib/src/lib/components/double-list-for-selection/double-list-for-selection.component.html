

<div fxLayout="column" fxLayoutAlign="start stretch" >

  <!-- Button Header -->
  <div class="double-selection-button-header" fxLayout="row" fxLayoutAlign="space-around stretch">
    <div fxFlex="60" fxLayout="row" fxLayoutAlign="space-around center">
      <button mat-raised-button color="primary" (click)="selectAllPreco()" ><mat-icon class="cwm-button-icon" [svgIcon]="'tcs-flash-on'"></mat-icon></button>
      <button mat-raised-button color="primary" (click)="selectAll()"><mat-icon class="cwm-button-icon" [svgIcon]="'tcs-chevron-right'"></mat-icon></button>
    </div>
    <div fxFlex="40" fxLayout="row" fxLayoutAlign="space-around center">

      <button mat-raised-button color="primary" (click)="unselectAll()"><mat-icon class="cwm-button-icon" [svgIcon]="'tcs-chevron-left'"></mat-icon></button>
      <button mat-raised-button color="primary" (click)="decisionForAll('encaisser')"><mat-icon class="cwm-button-icon" [svgIcon]="'tcs-euro-symbol'"></mat-icon></button>
      <button mat-raised-button color="primary" (click)="decisionForAll('detruire')"><mat-icon class="cwm-button-icon" [svgIcon]="'tcs-delete-sweep'"></mat-icon></button>

      <button mat-raised-button color="primary" (click)="downloadFile()"><mat-icon class="cwm-button-icon" [svgIcon]="'tcs-cloud-download'"></mat-icon></button>


    </div>
  </div>

  <!-- Content -->

  <div fxLayout="row" fxLayoutAlign="space-between stretch">


    <div fxLayout="column" fxFlex="60" class="cwm-content-right">


      <table fxFlex="98" mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort matSortActive="preco" matSortDirection="desc">

        <ng-container matColumnDef="preco">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Preco</th>
          <td mat-cell class="cwm-decision-cell" *matCellDef="let element"> <mat-icon fxLayoutAlign="end start"  *ngIf="element.preco" [svgIcon]="'tcs-flash-on'"></mat-icon></td>
        </ng-container>

        <ng-container matColumnDef="DemandeID">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Demande ID</th>
          <td mat-cell class="cwm-decision-cell" *matCellDef="let element"> {{element.DemandeID}} </td>
        </ng-container>

        <ng-container matColumnDef="Payeur">
          <th mat-header-cell *matHeaderCellDef  mat-sort-header> Payeur</th>
          <td mat-cell class="cwm-decision-cell" *matCellDef="let element"> {{element.Payeur}} </td>
        </ng-container>

        <ng-container matColumnDef="Numrodedemande">
          <th mat-header-cell *matHeaderCellDef  mat-sort-header> Numero de dossier</th>
          <td mat-cell class="cwm-decision-cell" *matCellDef="let element"> {{element.Numrodedemande}} </td>
        </ng-container>

        <ng-container matColumnDef="Statut" >
          <th mat-header-cell *matHeaderCellDef   mat-sort-header> Statut demande</th>
          <td mat-cell class="cwm-decision-cell" *matCellDef="let element"> {{element.Statut}} </td>
        </ng-container>

        <ng-container matColumnDef="View">
          <th class="cwm-decision-icon-cell-right" mat-header-cell *matHeaderCellDef></th>
          <td class="cwm-decision-icon-cell-right" mat-cell *matCellDef="let element">
            <mat-icon [svgIcon]="'tcs-visibility'" (click)="openCase(element)"></mat-icon>

          </td>
        </ng-container>

        <ng-container matColumnDef="Select">
          <th class="cwm-decision-icon-cell-right" mat-header-cell *matHeaderCellDef></th>
          <td class="cwm-decision-icon-cell-right" mat-cell *matCellDef="let element; let i = index">
            <mat-icon [svgIcon]="'tcs-chevron-right'" (click)="onAreaListControlChanged(element, i)"></mat-icon>

          </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr  mat-row *matRowDef="let row; columns: displayedColumns;let element" [ngClass]="{'cwm-preco-row': element.preco}"></tr>
      </table>
      <mat-paginator #paginator [pageSizeOptions]="[12]" showFirstLastButtons></mat-paginator>



    </div>


    <div fxLayout="column" fxFlex="40">


      <table fxFlex mat-table [dataSource]="selectionDataSource" class="mat-elevation-z8">


        <ng-container matColumnDef="DemandeID">
          <th mat-header-cell *matHeaderCellDef> Demande ID</th>
          <td mat-cell *matCellDef="let element"> {{element.casedataObj.DemandeID}} </td>
        </ng-container>


        <ng-container matColumnDef="Select">
          <th class="cwm-decision-icon-cell-left"  mat-header-cell *matHeaderCellDef></th>
          <td class="cwm-decision-icon-cell-left"  mat-cell *matCellDef="let element; let i = index">
            <mat-icon [svgIcon]="'tcs-chevron-left'" (click)="onSelectionListControlChanged(element, i)"></mat-icon>

          </td>
        </ng-container>

        <ng-container matColumnDef="Decision">
          <th mat-header-cell *matHeaderCellDef ></th>
          <td mat-cell *matCellDef="let element">
            <mat-radio-group
              [(ngModel)]="element.casedataObj.decision" fxLayout="row" fxLayoutAlign="space-around center" disabled>
              <mat-radio-button value="encaisser">
                <mat-icon class="cwm-radio-button-icon" [svgIcon]="'tcs-euro-symbol'"></mat-icon>
              </mat-radio-button>
              <mat-radio-button value="detruire">
                <mat-icon class="cwm-radio-button-icon" [svgIcon]="'tcs-delete-sweep'"></mat-icon>
              </mat-radio-button>
            </mat-radio-group>

          </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="selectionDisplayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: selectionDisplayedColumns;let element" [ngClass]="{'cwm-preco-row': element.preco}"></tr>
      </table>
      <mat-paginator #selectionPaginator [pageSizeOptions]="[12]" showFirstLastButtons></mat-paginator>


    </div>

  </div>
</div>
