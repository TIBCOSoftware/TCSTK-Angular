<div class="tcs-case-action-pane" fxLayout="column" fxFill>
  <tc-tibco-cloud-widget-header *ngIf="showHeader" fxFlex="nogrow" [headerText]="'Action'" [icon]="'tcs-case-action-item'"></tc-tibco-cloud-widget-header>
  <tcfrm-rendered-form *ngIf="data && process && (!legacyActions || isCustomForm)" [schema]="schema" [layout]="layout" [data]="data" [caseRef]="caseRef" [appId]="applicationId" [customFormDefs]="customFormDefs" [formsFramework]="formsFramework" [formRef]="process.ref" (formSubmit)="handleSubmit($event, caseRef)"></tcfrm-rendered-form>
  <!--tcla-live-apps-legacy-process *ngIf="data && process && legacyActions && !isCustomForm" [process]="process" [caseState]="caseState" [type]="'action'" [applicationId]="applicationId" [typeId]="typeId" [caseRef]="caseRef" (processCancelled)="handleLegacyProcessCancelled()" (processComplete)="handleLegacyProcessComplete()" class="live-apps-widget" fxFill></tcla-live-apps-legacy-process-->
  <div *ngIf="process && legacyActions && !isCustomForm">
    <div class="live-apps-form" id="actionFormDiv"></div>
    <tib-la-caseaction-form
      [sandbox]="sandboxId"
      [formDivId]="'actionFormDiv'"
      [noData]="false"
      [chatBotEnabled]="false"
      [caseRef]="caseRef"
      [id]="process.process.id"
      [name]="process.action.name"
      [label]="process.action.label"
      [version]="process.action.version"
      [applicationId]="process.action.applicationId"
      [applicationName]="process.action.applicationName"
      [activityId]="process.action.activityId"
      [activityName]="process.action.activityName"
      (formSubmit)="handleLegacyProcessComplete($event)"
      (formCancel)="handleLegacyProcessCancelled($event)"
    >
    </tib-la-caseaction-form>
  </div>
</div>
